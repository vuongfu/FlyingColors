<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tutor Online System</title>
    <link rel="shortcut icon" href="~/Image/TutorOnline_Icon.png" />
    <link rel="stylesheet" href="~/Content/Style.css">
    <link rel="stylesheet" href="~/Content/Footer-with-map.css">
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    <style>
        /* Set gray background color and 100% height */
        .sidenav {
            background-color: #f1f1f1;
            height: 100%;
        }

        .row.content {
            height: 550px;
        }

        .error-404 {
            margin: 0 auto;
            text-align: center;
        }

            .error-404 .error-code {
                bottom: 60%;
                color: #4686CC;
                font-size: 96px;
                line-height: 100px;
                font-weight: bold;
            }

            .error-404 .error-desc {
                font-size: 12px;
                color: #647788;
            }

            .error-404 .m-b-10 {
                margin-bottom: 10px !important;
            }

            .error-404 .m-b-20 {
                margin-bottom: 20px !important;
            }

            .error-404 .m-t-20 {
                margin-top: 20px !important;
            }
    </style>
</head>
<body id="HomePage" data-spy="scroll" data-target=".navbar" data-offset="60">
    <div class="navbar-default navbar-fixed-top" role="navigation" style="background: #3B5998;">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                @Html.ActionLink("TUTOR ONLINE", "Index", "Home", new { area = "" }, new { @class = "navbar-brand", style = "color: #ffffff" })
            </div>
            <div class="navbar-collapse collapse" id="myNavbar">
                <ul class="nav navbar-nav navbar-left">                 
                    
                </ul>
                @if (User.Identity.IsAuthenticated)
                {
                    <div class="navbar-collapse collapse">
                        <ul class="nav navbar-nav navbar-right">
                            <li>
                                <div class="row" style="color:aliceblue; margin-top: 15px;">
                                    <p>Xin chào<a href="@Url.Action("Index", "Home")" style="color: aliceblue; text-decoration: none;"> @HttpContext.Current.User.Identity.Name</a> | <a href="@Url.Action("Logout", "Account")" style="color: aliceblue; text-decoration: none;">Đăng xuất <span class="glyphicon glyphicon-log-in"> </span></a></p>
                                </div>
                            </li>
                        </ul>
                    </div>
                }
                else
                {
                    <div class="nav navbar-nav navbar-right">
                        @*@Html.ActionLink("Đăng nhập", "Login", "Account", new { area = "" }, new { @class = "btn btn-success navbar-btn" })
                            @Html.ActionLink("Đăng ký", "Register", "Account", new { area = "" }, new { @class = "btn btn-success navbar-btn" })*@
                        <a href="@Url.Action("Login", "Account")" class="btn navbar-btn" style="background-color: #3B5998; color: white;"><span class="glyphicon glyphicon-log-in" style="color: white;"></span> Đăng nhập</a>
                        <a href="@Url.Action("Register", "Account")" class="btn navbar-btn" style="background-color: #3B5998; color:white;"><span class="glyphicon glyphicon-education" style="color: white;"></span> Đăng ký</a>
                    </div>
                }

            </div>
        </div>
    </div>
    <div class="body-content">
        @if (TempData["message"] != null)
        {
            <div class="alert alert-success alert-dismissable">
                <a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>
                @TempData["message"]
            </div>
        }
        @if (TempData["messageWarning"] != null)
        {
            <div class="alert alert-warning alert-dismissable">
                <a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>
                @TempData["messageWarning"]
            </div>
        }
        <div class="container-fluid">
            <div class="">
                @{
                    string Rid = "";
                    string Rname = "";
                    string Uid = "";
                    if (Request.Cookies["Role"] != null)
                    {
                        if (Request.Cookies["Role"]["RoleId"] != null)
                        {
                            Rid = Request.Cookies["Role"]["RoleId"];
                        }
                        if (Request.Cookies["Role"]["RoleId"] != null)
                        {
                            Rname = HttpUtility.UrlDecode(Request.Cookies["Role"]["RoleName"]);
                        }

                    }
                    if (Request.Cookies["UserInfo"] != null)
                    {
                        if (Request.Cookies["UserInfo"]["UserId"] != null)
                        {
                            Uid = Request.Cookies["UserInfo"]["UserId"];
                        }
                    }
                }
                <div class="row content">
                    <div class="col-md-2 col-sm-2 sidenav hidden-xs">
                        <br />
                        <ul class="nav nav-pills nav-stacked">
                            <li><a href="@Url.Action("ViewDetailInfo","Tutor")">Thông tin cá nhân</a></li>
                            <li><a href="@Url.Action("TutorBookSlot","Tutor")">Đặt lịch dạy</a></li>
                            <li><a href="@Url.Action("ViewSchedule","Tutor")">Xem lịch dạy</a></li>
                            <li><a href="@Url.Action("RegistTutorSubject","Tutor")">Đăng ký khóa dạy</a></li>
                            <li><a href="@Url.Action("ViewTransaction","Tutor")">Lịch sử giao dịch</a></li>
                            @*<li class=""><a href="@Url.Action("Details", "Users", new { id = Uid.ToString(), info = true })">Thông tin cá nhân</a></li>
                                <li><a href="@Url.Action("ChangePwd", "Users", new { id =  Uid.ToString(), role = Rname })">Đổi mật khẩu</a></li>*@
                        </ul>
                    </div>
                    <div class="col-sm-10 col-md-10">
                        <br />
                        @RenderBody()
                    </div>
                </div>
            </div>
        </div>
        <hr />      
    </div>
    <div>
        <footer id="myFooter">
            <div class="container">
                <div class="row">
                    <div class="col-sm-3">
                        <h5>Flying Colors Team</h5>
                        <ul>
                            <li>Trần Viết Vương</li>
                            <li>Võ Thế Lâm</li>
                            <li>Nguyễn Bảo Long</li>
                            <li>Nguyễn Huy Phát</li>
                            <li>Nông Thị Hoài Thương</li>
                            <li>Nguyễn Thị Khánh Huyền</li>
                        </ul>
                    </div>
                    <div class="col-sm-3">
                        <h5>Giáo Viên Hướng Dẫn</h5>
                        <ul>
                            <li>Phan Trường Lâm</li>
                        </ul>
                    </div>
                    <div class="col-sm-3">
                        <h5>Liên Hệ</h5>
                        <ul>
                            <li>Địa chỉ: Đại học FPT, Hòa Lạc, Thạch Thất, Hà Nội</li>
                            <li>Email: tutoronlinefptu@gmail.com</li>
                            <li>Hotline: 01666432971</li>
                        </ul>
                    </div>
                    <div class="col-sm-3">
                        <h5>Chứng Chỉ</h5>
                        <ul>
                            <li>Website dạy học mô hình mới</li>
                            <li>Sáng tạo mùa hè</li>
                        </ul>
                    </div>
                </div>
                <!-- Here we use the Google Embed API to show Google Maps. -->
                <!-- In order for this to work in your project you will need to generate a unique API key.  -->
                <iframe id="map-container" frameborder="0" style="border:0"
                        src="https://www.google.com/maps/embed/v1/place?key=AIzaSyA0Dx_boXQiwvdz8sJHoYeZNVTdoWONYkU&amp;q=place_id:ChIJbQilLLNUNDER5Der2CkuxqM"></iframe>
            </div>
            <div class="social-networks">
                <a href="https://twitter.com/VUONGFU" class="twitter"><i class="fa fa-twitter"></i></a>
                <a href="https://www.facebook.com/groups/371728629880519/" class="facebook"><i class="fa fa-facebook"></i></a>
                <a href="https://myaccount.google.com/" class="google"><i class="fa fa-google-plus"></i></a>
            </div>
            <p class="container-fluid text-center">
                <a href="#HomePage" title="To Top">
                    <span class="glyphicon glyphicon-chevron-up"></span>
                </a>
            </p>
            <div class="footer-copyright">
                <p><span class="glyphicon glyphicon-copyright-mark" style="color: yellow;"></span> 2017 Copyright Flying Colors Team </p>
            </div>
        </footer>
    </div>
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
    <link href="https://rawgit.com/select2/select2/master/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://rawgit.com/select2/select2/master/dist/js/select2.js"></script>
    <script>
        $(function () {
            var current_page_URL = location.href;
            $("a").each(function () {
                if ($(this).attr("href") !== "#") {
                    var target_URL = $(this).prop("href");
                    if (target_URL == current_page_URL) {
                        $('nav a').parents('li, ul').removeClass('active');
                        $(this).parent('li').addClass('active');
                        return false;
                    }
                }
            });
        });
        $(document).ready(function () {
            $(".slSubject").select2({
                placeholder: 'Tìm kiếm khóa học'
            });
            checkSelect();
            $('select').change();
        });

        function reloadSelect2() {
            $(".slSubject").select2({
                placeholder: 'Tìm kiếm khóa học'
            });
        }


        function checkSelect() {
            $('select').on('change', function () {
                $('option').prop('disabled', false); //reset all the disabled options on every change event
                $('select').each(function () { //loop through all the select elements
                    var val = this.value;
                    var index = jQuery.inArray(val, listSelectedValue)
                    listSelectedValue.splice(index, 1);

                    $('select').not(this).find('option').filter(function () { //filter option elements having value as selected option
                        return this.value === val;
                    }).prop('disabled', true); //disable those option elements
                });
                reloadSelect2();
                getListValueSelected();
            });
        }

    </script>
</body>
</html>
